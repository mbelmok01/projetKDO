<!DOCTYPE html>
<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- FontAwesome - http://fortawesome.github.io/Font-Awesome/ -->
        <link rel="stylesheet" href="../public/mobile/font-awesome.min.css" />
<link rel="icon" type="image/png" href="../public/img/tm/icone2.png" />
		<!-- jQueryMobileCSS - original without styling -->
        <link rel="stylesheet" href="../public/mobile/jquerymobile.css" />

		<!-- nativeDroid core CSS -->
        <link rel="stylesheet" href="../public/mobile/jquerymobile.nativedroid.css" />

		<!-- nativeDroid: Light/Dark -->
        <link rel="stylesheet" href="../public/mobile/jquerymobile.nativedroid.light.css"  id='jQMnDTheme' />
		<script src="../public/js/jquery-mobile-min.js"></script>
       <script src="../public/js/jquery-mobile.js"></script>
	</head>
	<body>


		 <div data-role="page" data-dom-cache="true">
			<div data-role="panel" id="mypanel" data-theme="b">
        <ul data-role="listview">
            <li data-role="list-divider">MENU - KDO</li>
            <li data-icon="gift"><a href="index.html">Accueil</a></li>
            <li data-icon="male"><a href="profil.html">Mon profil</a></li>
            <li data-icon="shopping-cart"><a href="souhait.html">Mes souhaits</a></li>
            <li data-icon="calendar"><a href="#">Mes invitations</a></li>
        </ul>
    </div>
        <div data-role="header" data-position="fixed" data-tap-toggle="false" data-theme='b'>
            <a href="#mypanel" data-ajax="false"><i class='icon-ellipsis-vertical'></i></a>
            <h1>NOUVEAU SOUHAIT</h1>
        </div>
        	<br/><br/><br/>
			<div data-role="content">
			   <form>
			   	<ul data-role="listview" data-inset="true">
			    <li data-role="fieldcontain">
					<label for="membre_id">Membre</label>
					<input type="text" name="name" id="membre_id" value="" data-mini="true" data-clear-btn="true" placeholder="Nom membre" />
				</li>
				<li data-role="fieldcontain">
					<label for="libelle">Libelle</label>
					<input type="text" name="name" id="libelle"  placeholder="Libelle" data-clear-btn="true" value="" data-mini="true" />
				</li>
				<li data-role="fieldcontain">
					<label for="prix">Prix</label>
					<input type="text" name="name" id="prix" data-clear-btn="true"  placeholder="Prix" value="" data-mini="true" />
				</li>
				<li data-role="fieldcontain">
					<label for="importance">Importance</label>
					<input type="text" name="name" id="importance"  placeholder="Importance" data-clear-btn="true" value="" data-mini="true" />
				</li>

				<li data-role="fieldcontain">
					<label for="description">Description</label>
					<textarea cols="40" rows="8" name="textarea" data-clear-btn="true"  placeholder="Description" id="description"></textarea>
				</li>
				<li data-role="fieldcontain">
					<label for="categorie" class="select">Categorie</label>
					<select name="categorie" id="categorie">
						<option value="3">Livres</option>
						<option value="4">Musique</option>
						<option value="5">DVD</option>
						<option value="6">Jeu video</option>
						<option value="7">Console</option>
						<option value="8">High Tech</option>
						<option value="9">Société</option>
					</select>
				</li>
				<br/><br/><br/>
				<fieldset class="ui-grid-a">
                        <div class="ui-block-a"><button type="submit" data-theme="b">Retour</button></div>
                        <div class="ui-block-b"><button id="ajouter" data-theme="b">Ajouter</button></div>
                </fieldset>
                </div>
			</ul>
			</form>
		</div> 

	</body>

	<script type="text/javascript">

	$(function(){

		$("body").on( "click", '#ajouter', function(){

			var lib = $("#libelle").val();
			var des = $("#description").val();
			var pri = $("#prix").val();
			var cat = $("#categorie").val();
			var data = {membre_id : '2', libelle : lib, description : des, prix : pri, categorie : cat};

			// var data = 'membre_id=2 &libelle='+lib+'&description='+des+'&prix='+pri+'&categorie='+cat;
			console.log(data);
			$.ajax({
				url : "http://localhost/projetKDO_final/public/souhait-rest",
				dataType : "text/json",
				type : 'POST',
				async: false,
				success: function(msg) {
					alert( "Data Saved: " + msg );
				},
				data : data
				// data : 'membre_id=2 &libelle='+lib+'&description='+des+'&prix='+pri+'&categorie='+cat
			}).done(function(data) {
				console.log(data);
				alert("Le souhait a bien été ajouté");
			});
		}); // fin de l'écoute sur le boutoN
	});


	</script>
</html>